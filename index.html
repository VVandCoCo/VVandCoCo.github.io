<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Always With U</title>
    <style>
        /* 通用样式 */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
        }

        header {
            text-align: center;
            padding: 20px;
            background-color: #333;
            color: white;
        }

        section {
            margin: 20px;
            text-align: center;
        }

        footer {
            text-align: center;
            padding: 10px;
            background-color: #333;
            color: white;
            position: fixed;
            width: 100%;
            bottom: 0;
        }

        /* 动态时间显示的样式 */
        .time-elapsed {
            font-size: 18px;
            color: #333;
            margin-top: 20px;
        }

        /* 暂停按钮样式 */
        .pause-button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #333;
            color: white;
            border: none;
            cursor: pointer;
        }

        .pause-button:hover {
            background-color: #555;
        }

    </style>
</head>
<body>
    <header>
        <h1>~~~~~~~~~~~~~</h1>
    </header>
    
    <section>
        <article>
            <h2>VV and CoCo</h2>
            <p>2024 7 26</p>
            <!-- 显示动态时间的元素 -->
            <p class="time-elapsed" id="timeElapsed"></p>

            <!-- 暂停/继续倒计时按钮 -->
            <button class="pause-button" id="pauseButton" onclick="toggleTimer()">Pause</button>
        </article>
    </section>

    <footer>
        <p>© 2024 our Love Records</p>
    </footer>

    <script>
        const targetDate = new Date('2024-07-26T00:00:00'); // 指定目标日期
        let timerInterval = null; // 用于存储 setInterval 的 ID
        let isPaused = false; // 当前倒计时是否暂停
        let pauseTime = null; // 保存暂停时的时间差

        // 检查 localStorage 中是否有保存的状态
        if (localStorage.getItem('isPaused') !== null) {
            isPaused = localStorage.getItem('isPaused') === 'true';
            if (isPaused && localStorage.getItem('pauseTime') !== null) {
                pauseTime = parseInt(localStorage.getItem('pauseTime'), 10);
            }
        }

        // 更新页面中的时间
        function updateTimeElapsed() {
            const now = new Date(); // 当前时间
            let timeDiff;

            if (isPaused && pauseTime !== null) {
                // 如果暂停，使用保存的暂停时间
                timeDiff = pauseTime;
            } else {
                // 否则计算到目标日期的实际时间差
                timeDiff = now - targetDate;
            }

            // 转换为天、小时、分钟、秒
            const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);

            // 动态更新页面中的时间
            document.getElementById('timeElapsed').innerHTML = 
                ` ${days}days|${hours}h|${minutes}min|${seconds}s `;
        }

        // 启动倒计时
        function startTimer() {
            timerInterval = setInterval(updateTimeElapsed, 1000);
        }

        // 暂停倒计时
        function stopTimer() {
            clearInterval(timerInterval);
        }

        // 切换倒计时的状态（暂停/继续）
        function toggleTimer() {
            const pauseButton = document.getElementById('pauseButton');
            if (isPaused) {
                // 倒计时继续
                isPaused = false;
                startTimer();
                pauseButton.textContent = "Pause"; // 修改按钮文本
                localStorage.setItem('isPaused', 'false');
            } else {
                // 倒计时暂停
                isPaused = true;
                pauseTime = new Date() - targetDate; // 保存当前暂停时的时间差
                stopTimer();
                pauseButton.textContent = "Continue"; // 修改按钮文本
                localStorage.setItem('isPaused', 'true');
                localStorage.setItem('pauseTime', pauseTime.toString());
            }
        }

        // 页面加载时，根据状态恢复计时器
        if (!isPaused) {
            startTimer();
        } else {
            // 如果是暂停状态，显示保存的暂停时间
            updateTimeElapsed();
            document.getElementById('pauseButton').textContent = "Continue";
        }
    </script>
</body>
</html>
